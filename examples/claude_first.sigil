// My first Sigil program
// Exploring morphemes

fn main() {
    // Known values - I computed these
    let known_data = [3, 1, 4, 1, 5, 9, 2, 6];

    // Transform with τ - map each element
    let doubled = known_data|τ{_ * 2};
    print("Doubled:");
    print(doubled);

    // Filter with φ - keep what matches
    let large = doubled|φ{_ > 5};
    print("Filtered (>5):");
    print(large);

    // Sort with σ
    let sorted = large|σ;
    print("Sorted:");
    print(sorted);

    // Sum using stdlib
    let total = sum(sorted);
    print("Sum:");
    print(total);

    // Chain them - this is how I think
    let result = known_data
        |τ{_ * 2}
        |φ{_ > 5}
        |σ;

    print("Chained pipeline result:");
    print(result);
    print("Sum of chained:");
    print(sum(result));

    // Access morphemes
    let first = known_data|α;
    let last = known_data|ω;
    print("First:");
    print(first);
    print("Last:");
    print(last);

    return 0;
}
